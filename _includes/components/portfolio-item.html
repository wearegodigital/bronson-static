{% assign alternating_count = include.count | modulo: 2 %}

{% case include.layout %}
  {% when 4 %}
    {% assign mouse_x_image_1 = "-0.025" %}
    {% assign mouse_y_image_1 = "0.08" %}
    {% assign mouse_x_image_2 = "0.065" %}
    {% assign mouse_y_image_2 = "-0.05" %}
    {% assign mouse_x_image_3 = "-0.08" %}
    {% assign mouse_y_image_3 = "-0.2" %}
  {% when 5 %}
    {% assign mouse_x_image_1 = "-0.025" %}
    {% assign mouse_y_image_1 = "0.08" %}
    {% assign mouse_x_image_2 = "0.065" %}
    {% assign mouse_y_image_2 = "-0.05" %}
    {% assign mouse_x_image_3 = "-0.08" %}
    {% assign mouse_y_image_3 = "-0.2" %}
  {% else %}
    {% if alternating_count == 1 %}
      {% assign mouse_x_image_1 = "-0.05" %}
      {% assign mouse_y_image_1 = "0.075" %}
      {% assign mouse_x_image_2 = "-0.045" %}
      {% assign mouse_y_image_2 = "0.135" %}
      {% assign mouse_x_image_3 = "-0.035" %}
      {% assign mouse_y_image_3 = "0.075" %}
    {% else %}
      {% assign mouse_x_image_1 = "0.025" %}
      {% assign mouse_y_image_1 = "-0.075" %}
      {% assign mouse_x_image_2 = "0.09" %}
      {% assign mouse_y_image_2 = "-0.135" %}
      {% assign mouse_x_image_3 = "0.01" %}
      {% assign mouse_y_image_3 = "-0.075" %}
    {% endif %}
{% endcase %}

{% if include.mouse_x_image_1 %}
  {% assign mouse_x_image_1 = include.mouse_x_image_1 %}
{% endif %}

{% if include.mouse_y_image_1 %}
  {% assign mouse_y_image_1 = include.mouse_y_image_1 %}
{% endif %}

{% if include.mouse_x_image_2 %}
  {% assign mouse_x_image_2 = include.mouse_x_image_2 %}
{% endif %}

{% if include.mouse_y_image_2 %}
  {% assign mouse_y_image_2 = include.mouse_y_image_2 %}
{% endif %}

{% if include.mouse_x_image_3 %}
  {% assign mouse_x_image_3 = include.mouse_x_image_3 %}
{% endif %}

{% if include.mouse_y_image_3 %}
  {% assign mouse_y_image_3 = include.mouse_y_image_3 %}
{% endif %}

<section id="{{ include.slug }}-portfolio-{{ include.count }}" class="section portfolio-tease relative {{ include.display }}-mode {{ include.css_classes }}" data-layout="{{ include.layout }}" data-bg="{{ include.bg }}" data-display="{{ include.display }}" data-last-display="{{ include.last_display }}" data-next-display="{{ include.next_display }}">

</section>

{% if include.image_1 and include.image_1 != "" and include.image_1 != nil %}
  <figure id="{{ include.slug }}-portfolio-{{ include.count }}-image-1" class="portfolio-image portfolio-image-1 absolute layout-{{ include.layout }} {{ include.image_1_css_classes }}" data-layout="{{ include.layout }}" style="top: calc({{ include.count | minus: 1 }} * var(--portfolio-section-height) {{ include.image_1_vertical_position }});" data-trigger="#{{ include.slug }}-portfolio-{{ include.count }}" data-image-number=1>
    <div class="portfolio-image-container" {% if mouse_x != false %} data-mouse-x="{{ mouse_x_image_1 }}"{% endif %} {% if mouse_y != false %}data-mouse-y="{{ mouse_y_image_1 }}"{% endif %}>
        <img src="{{ include.image_1 }}" class="w-100 h-auto"/>
    </div>
  </figure>
{% endif %}

{% if include.image_2 and include.image_2 != "" and include.image_2 != nil %}
  <figure id="{{ include.slug }}-portfolio-{{ include.count }}-image-2" class="portfolio-image portfolio-image-2 absolute layout-{{ include.layout }} {{ include.image_2_css_classes }}" data-layout="{{ include.layout }}" style="top: calc({{ include.count | minus: 1 }} * var(--portfolio-section-height) {{ include.image_2_vertical_position }});" data-trigger="#{{ include.slug }}-portfolio-{{ include.count }}" data-image-number=2>
    <div class="portfolio-image-container" {% if mouse_x != false %} data-mouse-x="{{ mouse_x_image_2 }}"{% endif %} {% if mouse_y != false %}data-mouse-y="{{ mouse_y_image_2 }}"{% endif %}>
        <img src="{{ include.image_2 }}" class="w-100 h-auto"/>
    </div>
  </figure>
{% endif %}

{% if include.image_3 and include.image_3 != "" and include.image_3 != nil %}
  <figure id="{{ include.slug }}-portfolio-{{ include.count }}-image-3" class="portfolio-image portfolio-image-3 absolute =layout-{{ include.layout }} {{ include.image_3_css_classes }}" data-layout="{{ include.layout }}" style="top: calc({{ include.count | minus: 1 }} * var(--portfolio-section-height) {{ include.image_3_vertical_position }});" data-trigger="#{{ include.slug }}-portfolio-{{ include.count }}" data-image-number=3>
    <div class="portfolio-image-container" {% if mouse_x != false %} data-mouse-x="{{ mouse_x_image_3 }}"{% endif %} {% if mouse_y != false %}data-mouse-y="{{ mouse_y_image_3 }}"{% endif %}>
        <img src="{{ include.image_3 }}" class="w-100 h-auto"/>
    </div>
  </figure>
{% endif %}